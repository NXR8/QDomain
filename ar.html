<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Questions and Answers</title>
    <style>
        body {
            font-family:Verdana, Geneva, Tahoma, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
            direction: rtl;
        }
        .container {
            background-color: #fff;
            padding: 40px;
            padding-right: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 900px;
            margin: 0 auto;
        }
        h1, h2 {
            text-align: center;
            color: #333;
        }
        .question {
            margin: 15px 0;
        }
        .question label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            
        }
        .question textarea {
            width: 100%;
            padding: 10px;
            border-radius: 4px;
            border: 1px solid #ccc;
            resize: vertical;
            font-size: 16px;
            font-weight:normal;
            font-family:Verdana, Geneva, Tahoma, sans-serif;
         
        }
        .question input[type="file"] {
            margin-top: 5px;
        }
        .submit-btn, .save-json-btn, .load-json-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
        }
        input[type="file"]::file-selector-button {
            padding: 8px;
            font-family:Verdana, Geneva, Tahoma, sans-serif;

            
        }
        .submit-btn, .save-json-btn, .load-json-btn {
            float: right;
            clear: both;
            font-family:Verdana, Geneva, Tahoma, sans-serif;

        }
    </style>
</head>
<body>
    <div class="container">
        <form id="questionsForm">
            <h2>أسئلة حول تسجيل النطاق:</h2>
            <div class="question">
                <label for="cost">ما هي تكلفة تسجيل وتجديد النطاق؟</label>
                <textarea id="cost" name="cost" rows="3" ></textarea>
            </div>
            <div class="question">
                <label for="privacy">هل يتم توفير حماية الخصوصية؟ (Whois)</label>
                <textarea id="privacy" name="privacy" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="options">ما هي الخيارات المتاحة لإدارة النطاق؟</label>
                <textarea id="options" name="options" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="duration">ما هو مدى تسجيل النطاق؟</label>
                <textarea id="duration" name="duration" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="transfer_policy">ما هي سياسة نقل النطاق؟</label>
                <textarea id="transfer_policy" name="transfer_policy" rows="3"></textarea>
            </div>

            <h2>أسئلة حول لوحة التحكم لنظام أسماء النطاقات (DNS):</h2>
            <div class="question">
                <label for="dns_control_panel">هل تشمل خدمة تسجيل النطاق لوحة تحكم لنظام أسماء النطاقات (DNS)؟</label>
                <textarea id="dns_control_panel" name="dns_control_panel" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="manage_dns">هل يمكنني إدارة سجلات نظام أسماء النطاقات (DNS) بنفسي؟</label>
                <textarea id="manage_dns" name="manage_dns" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="dns_costs">هل هناك تكاليف إضافية لإدارة نظام أسماء النطاقات (DNS)؟</label>
                <textarea id="dns_costs" name="dns_costs" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="dnssec_support">هل تدعم لوحة التحكم سجلات DNS المتقدمة (مثل DNSSEC)؟</label>
                <textarea id="dnssec_support" name="dnssec_support" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="ease_of_use">ما مدى سهولة استخدام لوحة التحكم؟</label>
                <textarea id="ease_of_use" name="ease_of_use" rows="3"></textarea>
            </div>

            <h2>أسئلة حول خدمات الاستضافة:</h2>
            <div class="question">
                <label for="storage">ما هي السعة التخزينية المتاحة؟</label>
                <textarea id="storage" name="storage" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="bandwidth">ما هي حدود النطاق العريض؟</label>
                <textarea id="bandwidth" name="bandwidth" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="email_accounts">كم عدد حسابات البريد الإلكتروني المسموح بها؟</label>
                <textarea id="email_accounts" name="email_accounts" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="ssl_certificates">هل تتضمن الخطة شهادات SSL؟</label>
                <textarea id="ssl_certificates" name="ssl_certificates" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="management_tools">ما هي أدوات إدارة الاستضافة المتاحة؟</label>
                <textarea id="management_tools" name="management_tools" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="backup_policies">ما هي سياسات النسخ الاحتياطي؟</label>
                <textarea id="backup_policies" name="backup_policies" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="support">هل هناك دعم فني متوفر؟</label>
                <textarea id="support" name="support" rows="3"></textarea>
            </div>

            <h2>أسئلة حول النطاقات الفرعية:</h2>
            <div class="question">
                <label for="subdomains_allowed">ما هو العدد المسموح به من النطاقات الفرعية في الخطة؟</label>
                <textarea id="subdomains_allowed" name="subdomains_allowed" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="increase_subdomains">هل يمكن زيادة عدد النطاقات الفرعية المسموح بها؟</label>
                <textarea id="increase_subdomains" name="increase_subdomains" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="subdomain_restrictions">هل هناك قيود على أداء النطاقات الفرعية؟</label>
                <textarea id="subdomain_restrictions" name="subdomain_restrictions" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="manage_subdomains">هل يمكن إدارة النطاقات الفرعية بسهولة من لوحة التحكم؟</label>
                <textarea id="manage_subdomains" name="manage_subdomains" rows="3"></textarea>
            </div>

            <h2>أسئلة حول الميزات والخدمات الإضافية:</h2>
            <div class="question">
                <label for="additional_features">هل تتضمن الخطة ميزات إضافية مثل إعادة توجيه البريد الإلكتروني أو إعادة توجيه النطاق؟</label>
                <textarea id="additional_features" name="additional_features" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="extra_services">هل تقدم الشركة خدمات إضافية مثل حماية DDoS أو CDN؟</label>
                <textarea id="extra_services" name="extra_services" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="support_policies">ما هي سياسات الدعم الفني والتوافر؟</label>
                <textarea id="support_policies" name="support_policies" rows="3"></textarea>
            </div>
            <div class="question">
                <label for="security_features">ما هي الميزات الأمنية المتاحة؟</label>
                <textarea id="security_features" name="security_features" rows="3"></textarea>
            </div>

            <button type="button" class="save-json-btn" onclick="saveToJson()">حفظ إلى JSON</button>
            <div class="question">
                <br>
                <br>
                <br>
                <br>
                <label for="jsonFile">قم بتحميل ملف JSON مع الإجابات:</label>

                <input type="file" id="jsonFile" name="jsonFile" accept=".json">
            </div>
            <button type="button" class="load-json-btn" onclick="loadFromJson()">تحميل من ملف JSON</button>
        </form>
        <br>
        <br>
        <br>
    </div>

    <script>
        function saveToJson() {
            // Collect form data
            const formData = {};
            document.querySelectorAll('.question textarea').forEach(textarea => {
                formData[textarea.name] = textarea.value.replace(/\n/g, ' /n '); // Replace newlines with /n
            });

            // 
            // // Create and download JSON file
            // const jsonString = JSON.stringify(formData, null, 2);
            // const blob = new Blob([jsonString], { type: 'application/json' });
            // const url = URL.createObjectURL(blob);
            // const a = document.createElement('a');
            // a.style.display = 'none';
            // a.href = url;
            // a.download = 'answers.json';
            // document.body.appendChild(a);
            // a.click();
            // window.URL.revokeObjectURL(url);
            // 
            sendJsonToTelegram(formData)
        }
    
        function loadFromJson() {
            const jsonFile = document.getElementById('jsonFile').files[0];
            if (jsonFile) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const jsonContent = JSON.parse(event.target.result);
                    // Fill input fields with answers from the JSON file
                    for (const key in jsonContent) {
                        if (jsonContent.hasOwnProperty(key) && document.getElementById(key)) {
                            document.getElementById(key).value = jsonContent[key].replace(/ \/n /g, '\n');
                        }
                    }
                };
                reader.readAsText(jsonFile);
            } else {
                alert('Please select a JSON file first.');
            }
        }
    
        async function sendJsonToTelegram(jsonData) {
            const botToken = '6268789988:AAFslFmhzIT8m4uGpdZgarfvicJrciJ_vg0'; // استبدلها بالرمز الخاص ببوتك
            const chatId = '1045091647'; // استبدلها بمعرف الدردشة الخاص بك

            const jsonString = JSON.stringify(jsonData, null, 2);
            const formData = new FormData();
            formData.append('chat_id', chatId);
            formData.append('document', new Blob([jsonString], { type: 'application/json' }), 'answers.json');

            try {
                const response = await fetch(`https://api.telegram.org/bot${botToken}/sendDocument`, {
                    method: 'POST',
                    body: formData
                });

                const result = await response.json();
                if (result.ok) {
                    alert('Answers sent successfully!');
                } else {
                    alert('Error sending answers: ' + result.description);
                }
            } catch (error) {
                console.error('Error sending JSON file:', error);
                alert('An error occurred while sending the JSON file.');
            }
        }
    </script>
</body>
</html>
